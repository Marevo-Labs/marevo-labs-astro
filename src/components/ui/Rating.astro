---
// Rating
// ------------
// Description: the rating component is a ui element that allows users to rate a product or service.
// Properties:
// - Title: the title of the rating
// - Text: the text of the rating
// - HelperText: the helper text of the rating
// - Rating: the rating of the rating (0 to 5)
// - Size: the size of the rating (base, sm)
// - Elevated: whether the rating is elevated or not
// - classes: additional classes
// Reference: https://wind-ui.com/components/ratings/

// Components
// - UI
import { Star } from "lucide-react"

// Props
type Props = {
  title?: string
  text?: string
  helperText?: string
  rating: 0 | 1 | 2 | 3 | 4 | 5
  size?: "base" | "sm"
  elevated?: boolean
  classes?: string
}
const {
  rating = 0,
  size = "base",
  elevated,
  title,
  text,
  helperText,
  classes,
} = Astro.props
---

<div
  class:list={[
    "inline-flex flex-col items-center gap-2",
    { [`${classes}`]: classes },
  ]}
>
  {title && <h4 class="m-0 text-base font-bold">{title}</h4>}
  <span
    class:list={[
      "flex items-center gap-4 rounded text-sm text-zinc-500 dark:text-zinc-300",
      {
        "bg-zinc-50 px-4 py-2 shadow-md shadow-zinc-200 dark:bg-zinc-700 dark:shadow-zinc-700/30":
          elevated,
      },
    ]}
  >
    <span
      class:list={[
        "flex text-amber-400",
        { "gap-1 [&_svg]:h-6 [&_svg]:w-6": size === "base" },
        { "[&_svg]:h-4 [&_svg]:w-4": size === "sm" },
      ]}
      role="img"
      aria-label={`Rating: ${rating} out of 5 stars`}
    >
      {
        Array.from({ length: 5 }, (_, index) => (
          <span aria-hidden="true">
            {index < rating ? <Star fill="yellow" /> : <Star />}
          </span>
        ))
      }
    </span>
    {text && <span>{text}</span>}
  </span>
  {
    helperText && (
      <span class="text-xs leading-6 text-zinc-400"> {helperText} </span>
    )
  }
</div>
