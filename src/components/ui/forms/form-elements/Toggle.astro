---
// Toggle input
// ------------
// Description: Switches - toggle the state of a single setting on or off.
// Properties:
// - id: The id of the text field
// - label: The label of the text field
// - showLabel: Whether to show the label (default: true)
// - checked: Whether the toggle is checked (default: false)
// - helperText: The helper text to be displayed
// - disabled: Whether the toggle is disabled
// - classes: Additional classes to be added to the toggle

// Reference: https://wind-ui.com/components/form-elements/toggles/

// Props
type Props = {
  id: string
  label: string
  showLabel?: boolean
  checked?: boolean
  helperText?: string
  disabled?: boolean
  classes?: string
}
const {
  id,
  label,
  showLabel = true,
  checked = false,
  helperText,
  disabled,
  classes,
} = Astro.props
---

<div
  class:list={[
    "toggle relative flex flex-wrap items-center",
    { [`${classes}`]: classes },
  ]}
>
  <input
    class:list={[
      "toggle__input peer checked:bg-primary-200 checked:after:bg-primary-500 checked:hover:bg-primary-300 checked:after:hover:bg-primary-600 checked:focus:bg-primary-400 checked:after:focus:bg-primary-700 relative h-6 w-12 cursor-pointer appearance-none rounded-xl bg-zinc-300 transition-colors after:absolute after:top-0 after:left-0 after:h-6 after:w-6 after:rounded-full after:bg-zinc-500 after:transition-all checked:after:left-6 hover:bg-zinc-400 after:hover:bg-zinc-600 focus:outline-none focus-visible:outline-none disabled:cursor-not-allowed disabled:bg-zinc-200 disabled:after:bg-zinc-300 dark:bg-zinc-700 dark:hover:bg-zinc-800",
    ]}
    type="checkbox"
    value=""
    id={id}
    disabled={disabled}
    checked={checked}
  />
  <label
    class:list={[
      "toggle__label cursor-pointer pl-2 text-zinc-500 peer-disabled:cursor-not-allowed peer-disabled:text-zinc-400 dark:text-zinc-300",
      { ["sr-only"]: !showLabel },
    ]}
    for={id}>{label}</label
  >
  {
    helperText && (
      <small class="toggle__helper-text w-full py-2 pl-14 text-xs text-zinc-400 transition peer-invalid:text-red-500">
        <span>{helperText}</span>
      </small>
    )
  }
</div>
